{% load static %}

<!--
This is a small, reusable price component.
It expects a variable called 'price_option' with properties:
- type: string (e.g., 'Standard Rate', 'Member Only')
- original_price: number
- rebate_percent: number
-->
<div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
    {% with net_value=price_option.original_price|floatformat:2 %}
    {% with rebate_amount=price_option.original_price|multiply:price_option.rebate_percent|divide:100|floatformat:2 %}
    {% with final_price=net_value|subtract:rebate_amount|floatformat:2 %}

        <p class="text-sm font-semibold text-gray-700 mb-2">Booking Type: <span class="text-indigo-600">{{ price_option.type }}</span></p>

        <div class="space-y-1 text-sm">
            <!-- Original Price -->
            <div class="flex justify-between">
                <span class="text-gray-500">List Price:</span>
                <span class="text-gray-700">${{ net_value }}</span>
            </div>

            <!-- Rebate -->
            <div class="flex justify-between">
                <span class="text-red-500">Discount ({{ price_option.rebate_percent }}%):</span>
                <span class="text-red-600 font-medium">- ${{ rebate_amount }}</span>
            </div>

            <!-- Net Value -->
            <div class="flex justify-between pt-2 border-t border-dashed border-gray-300">
                <span class="font-bold text-indigo-700">Net Value:</span>
                <span class="font-extrabold text-lg text-indigo-700">${{ final_price }}</span>
            </div>
        </div>

        <button class="mt-4 w-full bg-indigo-500 hover:bg-indigo-600 text-white text-sm font-semibold py-2 rounded-md transition duration-150">
            Select {{ price_option.type }}
        </button>

    {% endwith %}
    {% endwith %}
    {% endwith %}
</div>